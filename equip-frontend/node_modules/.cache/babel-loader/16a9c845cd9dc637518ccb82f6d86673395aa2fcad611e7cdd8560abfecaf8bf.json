{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lsps_\\\\OneDrive\\\\Documents\\\\equip_mgmt\\\\equip-frontend\\\\src\\\\components\\\\ProductList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport GenericForm from \"../components/GenericForm\";\nimport ProductList from \"../components/ProductList\";\nimport api from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Inventory = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [refreshFlag, setRefreshFlag] = useState(0); // 用來觸發 ProductList 的 useEffect\n\n  const fields = [{\n    name: \"name\",\n    label: \"名稱\",\n    type: \"text\"\n  }, {\n    name: \"code\",\n    label: \"代碼\",\n    type: \"text\"\n  }, {\n    name: \"unit\",\n    label: \"單位\",\n    type: \"text\"\n  }, {\n    name: \"price\",\n    label: \"價格\",\n    type: \"number\"\n  }, {\n    name: \"quantity\",\n    label: \"庫存數量\",\n    type: \"number\"\n  }];\n  const handleAddSingle = product => {\n    setProducts([...products, product]);\n    setRefreshFlag(f => f + 1);\n  };\n  const handleAddCSV = csvData => {\n    const formatted = csvData.map(r => ({\n      name: r.name,\n      code: r.code,\n      unit: r.unit,\n      price: Number(r.price),\n      quantity: Number(r.quantity)\n    }));\n    setProducts([...products, ...formatted]);\n    setRefreshFlag(f => f + 1);\n  };\n  const handleEdit = product => {\n    alert(\"編輯功能待實作: \" + product.name);\n  };\n  const handleViewHistory = productId => {\n    alert(\"查看庫存歷史功能待實作: \" + productId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u5EAB\\u5B58\\u7BA1\\u7406\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GenericForm, {\n      fields: fields,\n      onAddSingle: handleAddSingle,\n      onAddCSV: handleAddCSV\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u7522\\u54C1\\u5217\\u8868\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductList, {\n      products: products,\n      onEdit: handleEdit,\n      refresh: refreshFlag,\n      onViewHistory: handleViewHistory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(Inventory, \"4NQVhBp6RU2O07w1rQ//lntKliU=\");\n_c = Inventory;\nexport default Inventory;\nvar _c;\n$RefreshReg$(_c, \"Inventory\");","map":{"version":3,"names":["React","useState","useEffect","GenericForm","ProductList","api","jsxDEV","_jsxDEV","Inventory","_s","products","setProducts","refreshFlag","setRefreshFlag","fields","name","label","type","handleAddSingle","product","f","handleAddCSV","csvData","formatted","map","r","code","unit","price","Number","quantity","handleEdit","alert","handleViewHistory","productId","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onAddSingle","onAddCSV","onEdit","refresh","onViewHistory","_c","$RefreshReg$"],"sources":["C:/Users/lsps_/OneDrive/Documents/equip_mgmt/equip-frontend/src/components/ProductList.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport GenericForm from \"../components/GenericForm\";\r\nimport ProductList from \"../components/ProductList\";\r\nimport api from \"../api\";\r\n\r\nconst Inventory = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [refreshFlag, setRefreshFlag] = useState(0); // 用來觸發 ProductList 的 useEffect\r\n\r\n  const fields = [\r\n    { name: \"name\", label: \"名稱\", type: \"text\" },\r\n    { name: \"code\", label: \"代碼\", type: \"text\" },\r\n    { name: \"unit\", label: \"單位\", type: \"text\" },\r\n    { name: \"price\", label: \"價格\", type: \"number\" },\r\n    { name: \"quantity\", label: \"庫存數量\", type: \"number\" },\r\n  ];\r\n\r\n  const handleAddSingle = (product) => {\r\n    setProducts([...products, product]);\r\n    setRefreshFlag((f) => f + 1);\r\n  };\r\n\r\n  const handleAddCSV = (csvData) => {\r\n    const formatted = csvData.map((r) => ({\r\n      name: r.name,\r\n      code: r.code,\r\n      unit: r.unit,\r\n      price: Number(r.price),\r\n      quantity: Number(r.quantity),\r\n    }));\r\n    setProducts([...products, ...formatted]);\r\n    setRefreshFlag((f) => f + 1);\r\n  };\r\n\r\n  const handleEdit = (product) => {\r\n    alert(\"編輯功能待實作: \" + product.name);\r\n  };\r\n\r\n  const handleViewHistory = (productId) => {\r\n    alert(\"查看庫存歷史功能待實作: \" + productId);\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h1>庫存管理</h1>\r\n      <GenericForm fields={fields} onAddSingle={handleAddSingle} onAddCSV={handleAddCSV} />\r\n      \r\n      <h2>產品列表</h2>\r\n      <ProductList\r\n        products={products}\r\n        onEdit={handleEdit}\r\n        refresh={refreshFlag}\r\n        onViewHistory={handleViewHistory}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Inventory;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,GAAG,MAAM,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEnD,MAAMa,MAAM,GAAG,CACb;IAAEC,IAAI,EAAE,MAAM;IAAEC,KAAK,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC3C;IAAEF,IAAI,EAAE,MAAM;IAAEC,KAAK,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC3C;IAAEF,IAAI,EAAE,MAAM;IAAEC,KAAK,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC3C;IAAEF,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE,IAAI;IAAEC,IAAI,EAAE;EAAS,CAAC,EAC9C;IAAEF,IAAI,EAAE,UAAU;IAAEC,KAAK,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAS,CAAC,CACpD;EAED,MAAMC,eAAe,GAAIC,OAAO,IAAK;IACnCR,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAES,OAAO,CAAC,CAAC;IACnCN,cAAc,CAAEO,CAAC,IAAKA,CAAC,GAAG,CAAC,CAAC;EAC9B,CAAC;EAED,MAAMC,YAAY,GAAIC,OAAO,IAAK;IAChC,MAAMC,SAAS,GAAGD,OAAO,CAACE,GAAG,CAAEC,CAAC,KAAM;MACpCV,IAAI,EAAEU,CAAC,CAACV,IAAI;MACZW,IAAI,EAAED,CAAC,CAACC,IAAI;MACZC,IAAI,EAAEF,CAAC,CAACE,IAAI;MACZC,KAAK,EAAEC,MAAM,CAACJ,CAAC,CAACG,KAAK,CAAC;MACtBE,QAAQ,EAAED,MAAM,CAACJ,CAAC,CAACK,QAAQ;IAC7B,CAAC,CAAC,CAAC;IACHnB,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAE,GAAGa,SAAS,CAAC,CAAC;IACxCV,cAAc,CAAEO,CAAC,IAAKA,CAAC,GAAG,CAAC,CAAC;EAC9B,CAAC;EAED,MAAMW,UAAU,GAAIZ,OAAO,IAAK;IAC9Ba,KAAK,CAAC,WAAW,GAAGb,OAAO,CAACJ,IAAI,CAAC;EACnC,CAAC;EAED,MAAMkB,iBAAiB,GAAIC,SAAS,IAAK;IACvCF,KAAK,CAAC,eAAe,GAAGE,SAAS,CAAC;EACpC,CAAC;EAED,oBACE3B,OAAA;IAAK4B,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC9B9B,OAAA;MAAA8B,QAAA,EAAI;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACblC,OAAA,CAACJ,WAAW;MAACW,MAAM,EAAEA,MAAO;MAAC4B,WAAW,EAAExB,eAAgB;MAACyB,QAAQ,EAAEtB;IAAa;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAErFlC,OAAA;MAAA8B,QAAA,EAAI;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACblC,OAAA,CAACH,WAAW;MACVM,QAAQ,EAAEA,QAAS;MACnBkC,MAAM,EAAEb,UAAW;MACnBc,OAAO,EAAEjC,WAAY;MACrBkC,aAAa,EAAEb;IAAkB;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAAChC,EAAA,CAnDID,SAAS;AAAAuC,EAAA,GAATvC,SAAS;AAqDf,eAAeA,SAAS;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}