{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lsps_\\\\OneDrive\\\\Documents\\\\equip_mgmt\\\\equip-frontend\\\\src\\\\views\\\\PeopleList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from '../api';\nimport Papa from 'papaparse';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PeopleList() {\n  _s();\n  const [people, setPeople] = useState([]);\n  const [departments, setDepartments] = useState([]);\n  const [form, setForm] = useState({\n    name: '',\n    id_number: '',\n    email: '',\n    phone: '',\n    department: ''\n  });\n  const [editingId, setEditingId] = useState(null);\n  const [search, setSearch] = useState('');\n  const [sortField, setSortField] = useState('name');\n  const [sortOrder, setSortOrder] = useState('asc');\n  const [page, setPage] = useState(1);\n  const pageSize = 10;\n  const [csvFile, setCsvFile] = useState(null);\n  const [csvPreview, setCsvPreview] = useState([]);\n  const API_BASE = '/people';\n\n  // ----------------- 取得資料 -----------------\n  const fetchPeople = async () => {\n    try {\n      const res = await axios.get(API_BASE + '/');\n      console.log(res);\n      setPeople(res.data || []);\n    } catch (err) {\n      console.error(err);\n      setPeople([]);\n      alert('無法取得人員列表');\n    }\n  };\n  const fetchDepartments = async () => {\n    try {\n      const res = await axios.get('/departments/');\n      setDepartments(res.data || []);\n    } catch (err) {\n      console.error(err);\n      setDepartments([]);\n    }\n  };\n  useEffect(() => {\n    fetchPeople();\n    fetchDepartments();\n  }, []);\n\n  // ----------------- 表單處理 -----------------\n  const handleChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (editingId) {\n        await axios.put(`${API_BASE}/${editingId}/`, form);\n      } else {\n        await axios.post(API_BASE + '/', form);\n      }\n      setForm({\n        name: '',\n        id_number: '',\n        email: '',\n        phone: '',\n        department: ''\n      });\n      setEditingId(null);\n      fetchPeople();\n    } catch (err) {\n      console.error(err);\n      alert('儲存失敗');\n    }\n  };\n  const handleEdit = person => {\n    setForm({\n      name: person.name,\n      id_number: person.id_number,\n      email: person.email,\n      phone: person.phone || '',\n      department: person.department || ''\n    });\n    setEditingId(person.id_number);\n  };\n  const handleDelete = async id_number => {\n    if (!window.confirm('確定要刪除嗎？')) return;\n    try {\n      await axios.delete(`${API_BASE}/${id_number}/`);\n      fetchPeople();\n    } catch (err) {\n      console.error(err);\n      alert('刪除失敗');\n    }\n  };\n\n  // ----------------- 搜尋 / 排序 / 分頁 -----------------\n  const filtered = people.filter(p => p.name.includes(search) || p.email.includes(search)).sort((a, b) => {\n    const valA = a[sortField] || '';\n    const valB = b[sortField] || '';\n    if (valA < valB) return sortOrder === 'asc' ? -1 : 1;\n    if (valA > valB) return sortOrder === 'asc' ? 1 : -1;\n    return 0;\n  });\n  const totalPages = Math.ceil(filtered.length / pageSize);\n  const currentPageData = filtered.slice((page - 1) * pageSize, page * pageSize);\n  const changeSort = field => {\n    if (sortField === field) setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');else {\n      setSortField(field);\n      setSortOrder('asc');\n    }\n  };\n\n  // ----------------- CSV 匯入 -----------------\n  const handleCsvChange = e => {\n    const file = e.target.files[0];\n    setCsvFile(file);\n    if (file) {\n      Papa.parse(file, {\n        header: true,\n        skipEmptyLines: true,\n        complete: results => setCsvPreview(results.data)\n      });\n    }\n  };\n  const handleCsvUpload = async () => {\n    if (!csvFile) return alert('請先選擇 CSV 檔');\n    if (csvPreview.length === 0) return alert('CSV 內容為空');\n    try {\n      for (const row of csvPreview) {\n        var _row$身份證字號, _row$姓名, _row$信箱, _row$電話, _row$部門;\n        const idNumber = (_row$身份證字號 = row['身份證字號']) === null || _row$身份證字號 === void 0 ? void 0 : _row$身份證字號.trim();\n        const name = ((_row$姓名 = row['姓名']) === null || _row$姓名 === void 0 ? void 0 : _row$姓名.trim()) || '';\n        const email = ((_row$信箱 = row['信箱']) === null || _row$信箱 === void 0 ? void 0 : _row$信箱.trim()) || '';\n        const phone = ((_row$電話 = row['電話']) === null || _row$電話 === void 0 ? void 0 : _row$電話.trim()) || '';\n        const departmentName = ((_row$部門 = row['部門']) === null || _row$部門 === void 0 ? void 0 : _row$部門.trim()) || null;\n        if (!idNumber) continue;\n\n        // 處理部門\n        let dept = departments.find(d => d.name === departmentName);\n        if (departmentName) {\n          if (!dept) {\n            const newDept = await axios.post('/departments/', {\n              name: departmentName\n            });\n            dept = newDept.data;\n            setDepartments(prev => [...prev, dept]);\n          }\n        }\n\n        // 處理人員\n        try {\n          const res = await axios.get(API_BASE + '/', {\n            params: {\n              id_number: idNumber\n            }\n          });\n          if (res.data.length > 0) {\n            await axios.put(`${API_BASE}/${idNumber}/`, {\n              id_number: idNumber,\n              name,\n              email,\n              phone,\n              department: departmentName\n            });\n          } else {\n            await axios.post(API_BASE + '/', {\n              id_number: idNumber,\n              name,\n              email,\n              phone,\n              department: departmentName\n            });\n          }\n        } catch (err) {\n          console.error('處理 CSV 資料失敗', err);\n        }\n      }\n      alert('CSV 匯入完成');\n      setCsvFile(null);\n      setCsvPreview([]);\n      fetchPeople();\n    } catch (err) {\n      console.error(err);\n      alert('CSV 匯入失敗');\n    }\n  };\n\n  // ----------------- UI -----------------\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u4EBA\\u54E1\\u7BA1\\u7406\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"\\u641C\\u5C0B\\u59D3\\u540D\\u6216\\u4FE1\\u7BB1\",\n      value: search,\n      onChange: e => setSearch(e.target.value),\n      style: {\n        marginBottom: '1rem',\n        width: '300px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".csv\",\n        onChange: handleCsvChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCsvUpload,\n        style: {\n          marginLeft: '0.5rem'\n        },\n        children: \"\\u532F\\u5165 CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), csvPreview.length > 0 && /*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"1\",\n      cellPadding: \"4\",\n      style: {\n        borderCollapse: 'collapse',\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: Object.keys(csvPreview[0]).map(key => /*#__PURE__*/_jsxDEV(\"th\", {\n            children: key\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 54\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: csvPreview.map((row, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: Object.keys(row).map(key => /*#__PURE__*/_jsxDEV(\"td\", {\n            children: row[key]\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 46\n          }, this))\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        marginBottom: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        placeholder: \"\\u59D3\\u540D\",\n        value: form.name,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"id_number\",\n        placeholder: \"\\u8EAB\\u4EFD\\u8B49\\u5B57\\u865F\",\n        value: form.id_number,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        placeholder: \"\\u4FE1\\u7BB1\",\n        value: form.email,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"phone\",\n        placeholder: \"\\u96FB\\u8A71\",\n        value: form.phone,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"department\",\n        value: form.department,\n        onChange: handleChange,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u8ACB\\u9078\\u64C7\\u90E8\\u9580\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), departments.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: d.name,\n          children: d.name\n        }, d.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 33\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: editingId ? '更新' : '新增'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"1\",\n      cellPadding: \"8\",\n      style: {\n        borderCollapse: 'collapse',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => changeSort('name'),\n            children: [\"\\u59D3\\u540D \", sortField === 'name' ? sortOrder === 'asc' ? '↑' : '↓' : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => changeSort('id_number'),\n            children: [\"\\u8EAB\\u4EFD\\u8B49\\u5B57\\u865F \", sortField === 'id_number' ? sortOrder === 'asc' ? '↑' : '↓' : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            onClick: () => changeSort('email'),\n            children: [\"\\u4FE1\\u7BB1 \", sortField === 'email' ? sortOrder === 'asc' ? '↑' : '↓' : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u96FB\\u8A71\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u90E8\\u9580\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u64CD\\u4F5C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: currentPageData.map(person => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: person.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: person.id_number\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: person.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: person.phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: person.department\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEdit(person),\n              children: \"\\u7DE8\\u8F2F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(person.id_number),\n              children: \"\\u522A\\u9664\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this)]\n        }, person.id_number, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: page === 1,\n        onClick: () => setPage(page - 1),\n        children: \"\\u4E0A\\u4E00\\u9801\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          margin: '0 1rem'\n        },\n        children: [\"\\u7B2C \", page, \"/\", totalPages, \" \\u9801\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: page === totalPages,\n        onClick: () => setPage(page + 1),\n        children: \"\\u4E0B\\u4E00\\u9801\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n}\n_s(PeopleList, \"VwVrzTE/DigofGV4zonLFzW7jbk=\");\n_c = PeopleList;\nvar _c;\n$RefreshReg$(_c, \"PeopleList\");","map":{"version":3,"names":["React","useState","useEffect","axios","Papa","jsxDEV","_jsxDEV","PeopleList","_s","people","setPeople","departments","setDepartments","form","setForm","name","id_number","email","phone","department","editingId","setEditingId","search","setSearch","sortField","setSortField","sortOrder","setSortOrder","page","setPage","pageSize","csvFile","setCsvFile","csvPreview","setCsvPreview","API_BASE","fetchPeople","res","get","console","log","data","err","error","alert","fetchDepartments","handleChange","e","target","value","handleSubmit","preventDefault","put","post","handleEdit","person","handleDelete","window","confirm","delete","filtered","filter","p","includes","sort","a","b","valA","valB","totalPages","Math","ceil","length","currentPageData","slice","changeSort","field","handleCsvChange","file","files","parse","header","skipEmptyLines","complete","results","handleCsvUpload","row","_row$身份證字號","_row$姓名","_row$信箱","_row$電話","_row$部門","idNumber","trim","departmentName","dept","find","d","newDept","prev","params","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","marginBottom","width","type","accept","onClick","marginLeft","border","cellPadding","borderCollapse","Object","keys","map","key","idx","onSubmit","required","id","marginTop","disabled","margin","_c","$RefreshReg$"],"sources":["C:/Users/lsps_/OneDrive/Documents/equip_mgmt/equip-frontend/src/views/PeopleList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from '../api';\r\nimport Papa from 'papaparse';\r\n\r\nexport default function PeopleList() {\r\n  const [people, setPeople] = useState([]);\r\n  const [departments, setDepartments] = useState([]);\r\n  const [form, setForm] = useState({ name: '', id_number: '', email: '', phone: '', department: '' });\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [search, setSearch] = useState('');\r\n  const [sortField, setSortField] = useState('name');\r\n  const [sortOrder, setSortOrder] = useState('asc');\r\n  const [page, setPage] = useState(1);\r\n  const pageSize = 10;\r\n\r\n  const [csvFile, setCsvFile] = useState(null);\r\n  const [csvPreview, setCsvPreview] = useState([]);\r\n\r\n  const API_BASE = '/people';\r\n\r\n  // ----------------- 取得資料 -----------------\r\n  const fetchPeople = async () => {\r\n    try {\r\n      const res = await axios.get(API_BASE + '/');\r\n      console.log(res);\r\n      setPeople(res.data || []);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setPeople([]);\r\n      alert('無法取得人員列表');\r\n    }\r\n  };\r\n\r\n  const fetchDepartments = async () => {\r\n    try {\r\n      const res = await axios.get('/departments/');\r\n      setDepartments(res.data || []);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setDepartments([]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPeople();\r\n    fetchDepartments();\r\n  }, []);\r\n\r\n  // ----------------- 表單處理 -----------------\r\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (editingId) {\r\n        await axios.put(`${API_BASE}/${editingId}/`, form);\r\n      } else {\r\n        await axios.post(API_BASE + '/', form);\r\n      }\r\n      setForm({ name: '', id_number: '', email: '', phone: '', department: '' });\r\n      setEditingId(null);\r\n      fetchPeople();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('儲存失敗');\r\n    }\r\n  };\r\n\r\n  const handleEdit = (person) => {\r\n    setForm({\r\n      name: person.name,\r\n      id_number: person.id_number,\r\n      email: person.email,\r\n      phone: person.phone || '',\r\n      department: person.department || ''\r\n    });\r\n    setEditingId(person.id_number);\r\n  };\r\n\r\n  const handleDelete = async (id_number) => {\r\n    if (!window.confirm('確定要刪除嗎？')) return;\r\n    try {\r\n      await axios.delete(`${API_BASE}/${id_number}/`);\r\n      fetchPeople();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('刪除失敗');\r\n    }\r\n  };\r\n\r\n  // ----------------- 搜尋 / 排序 / 分頁 -----------------\r\n  const filtered = people\r\n    .filter(p => p.name.includes(search) || p.email.includes(search))\r\n    .sort((a, b) => {\r\n      const valA = a[sortField] || '';\r\n      const valB = b[sortField] || '';\r\n      if (valA < valB) return sortOrder === 'asc' ? -1 : 1;\r\n      if (valA > valB) return sortOrder === 'asc' ? 1 : -1;\r\n      return 0;\r\n    });\r\n\r\n  const totalPages = Math.ceil(filtered.length / pageSize);\r\n  const currentPageData = filtered.slice((page - 1) * pageSize, page * pageSize);\r\n\r\n  const changeSort = (field) => {\r\n    if (sortField === field) setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    else { setSortField(field); setSortOrder('asc'); }\r\n  };\r\n\r\n  // ----------------- CSV 匯入 -----------------\r\n  const handleCsvChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setCsvFile(file);\r\n    if (file) {\r\n      Papa.parse(file, {\r\n        header: true,\r\n        skipEmptyLines: true,\r\n        complete: (results) => setCsvPreview(results.data)\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCsvUpload = async () => {\r\n    if (!csvFile) return alert('請先選擇 CSV 檔');\r\n    if (csvPreview.length === 0) return alert('CSV 內容為空');\r\n\r\n    try {\r\n      for (const row of csvPreview) {\r\n        const idNumber = row['身份證字號']?.trim();\r\n        const name = row['姓名']?.trim() || '';\r\n        const email = row['信箱']?.trim() || '';\r\n        const phone = row['電話']?.trim() || '';\r\n        const departmentName = row['部門']?.trim() || null;\r\n\r\n        if (!idNumber) continue;\r\n\r\n        // 處理部門\r\n        let dept = departments.find(d => d.name === departmentName);\r\n        if (departmentName) {\r\n          if (!dept) {\r\n            const newDept = await axios.post('/departments/', { name: departmentName });\r\n            dept = newDept.data;\r\n            setDepartments(prev => [...prev, dept]);\r\n          }\r\n        }\r\n\r\n        // 處理人員\r\n        try {\r\n          const res = await axios.get(API_BASE + '/', { params: { id_number: idNumber } });\r\n          if (res.data.length > 0) {\r\n            await axios.put(`${API_BASE}/${idNumber}/`, {\r\n              id_number: idNumber,\r\n              name,\r\n              email,\r\n              phone,\r\n              department: departmentName\r\n            });\r\n          } else {\r\n            await axios.post(API_BASE + '/', {\r\n              id_number: idNumber,\r\n              name,\r\n              email,\r\n              phone,\r\n              department: departmentName\r\n            });\r\n          }\r\n        } catch (err) {\r\n          console.error('處理 CSV 資料失敗', err);\r\n        }\r\n      }\r\n\r\n      alert('CSV 匯入完成');\r\n      setCsvFile(null);\r\n      setCsvPreview([]);\r\n      fetchPeople();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('CSV 匯入失敗');\r\n    }\r\n  };\r\n\r\n  // ----------------- UI -----------------\r\n  return (\r\n    <div style={{ padding: '2rem' }}>\r\n      <h2>人員管理</h2>\r\n\r\n      <input\r\n        placeholder=\"搜尋姓名或信箱\"\r\n        value={search}\r\n        onChange={e => setSearch(e.target.value)}\r\n        style={{ marginBottom: '1rem', width: '300px' }}\r\n      />\r\n\r\n      {/* CSV 匯入 */}\r\n      <div style={{ marginBottom: '1rem' }}>\r\n        <input type=\"file\" accept=\".csv\" onChange={handleCsvChange} />\r\n        <button onClick={handleCsvUpload} style={{ marginLeft: '0.5rem' }}>匯入 CSV</button>\r\n      </div>\r\n\r\n      {/* CSV 預覽 */}\r\n      {csvPreview.length > 0 && (\r\n        <table border=\"1\" cellPadding=\"4\" style={{ borderCollapse: 'collapse', marginBottom: '1rem' }}>\r\n          <thead>\r\n            <tr>\r\n              {Object.keys(csvPreview[0]).map(key => <th key={key}>{key}</th>)}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {csvPreview.map((row, idx) => (\r\n              <tr key={idx}>\r\n                {Object.keys(row).map(key => <td key={key}>{row[key]}</td>)}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n\r\n      {/* 表單 */}\r\n      <form onSubmit={handleSubmit} style={{ marginBottom: '2rem' }}>\r\n        <input name=\"name\" placeholder=\"姓名\" value={form.name} onChange={handleChange} required />\r\n        <input name=\"id_number\" placeholder=\"身份證字號\" value={form.id_number} onChange={handleChange} required />\r\n        <input name=\"email\" placeholder=\"信箱\" value={form.email} onChange={handleChange} required />\r\n        <input name=\"phone\" placeholder=\"電話\" value={form.phone} onChange={handleChange} />\r\n        <select name=\"department\" value={form.department} onChange={handleChange} required>\r\n          <option value=\"\">請選擇部門</option>\r\n          {departments.map(d => <option key={d.id} value={d.name}>{d.name}</option>)}\r\n        </select>\r\n        <button type=\"submit\">{editingId ? '更新' : '新增'}</button>\r\n      </form>\r\n\r\n      {/* 人員列表 */}\r\n      <table border=\"1\" cellPadding=\"8\" style={{ borderCollapse: 'collapse', width: '100%' }}>\r\n        <thead>\r\n          <tr>\r\n            <th onClick={() => changeSort('name')}>姓名 {sortField==='name'? (sortOrder==='asc'?'↑':'↓') : ''}</th>\r\n            <th onClick={() => changeSort('id_number')}>身份證字號 {sortField==='id_number'? (sortOrder==='asc'?'↑':'↓') : ''}</th>\r\n            <th onClick={() => changeSort('email')}>信箱 {sortField==='email'? (sortOrder==='asc'?'↑':'↓') : ''}</th>\r\n            <th>電話</th>\r\n            <th>部門</th>\r\n            <th>操作</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {currentPageData.map(person => (\r\n            <tr key={person.id_number}>\r\n              <td>{person.name}</td>\r\n              <td>{person.id_number}</td>\r\n              <td>{person.email}</td>\r\n              <td>{person.phone}</td>\r\n              <td>{person.department}</td>\r\n              <td>\r\n                <button onClick={() => handleEdit(person)}>編輯</button>\r\n                <button onClick={() => handleDelete(person.id_number)}>刪除</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* 分頁 */}\r\n      <div style={{ marginTop: '1rem' }}>\r\n        <button disabled={page===1} onClick={() => setPage(page-1)}>上一頁</button>\r\n        <span style={{ margin:'0 1rem' }}>第 {page}/{totalPages} 頁</span>\r\n        <button disabled={page===totalPages} onClick={() => setPage(page+1)}>下一頁</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}